import{cB as $,e,am as g,ax as k,k as I,j as b,aK as l,a4 as _,a3 as f,r as v,aM as y,cT as c,aA as C,S as i,b$ as M,au as S,aw as O,ac as E,a as L,E as m,a0 as d,ct as A,l as h,av as G,bM as z}from"./index.833534e9.js";import{b as F}from"./Folder.fd7dbbf6.js";import{u as H}from"./index.bc5d1b63.js";import{I as T}from"./ImageWithError.c26eb3b0.js";import{O as W,g as B}from"./icon.332ce381.js";import{u as K}from"./helper.ce2586fd.js";import{G as P}from"./GridItem.937ffe6f.js";import"./Layout.1e396b2f.js";import"./index.31a8377b.js";import"./FolderTree.d9728f27.js";import"./index.c76f3aa9.js";import"./video_box.46f332d0.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./Paginator.a38c594c.js";import"./index.9e24409d.js";import"./index.681f4823.js";const U=t=>{const{isHide:s}=$();if(s(t.obj)||t.obj.type!==W.IMAGE)return null;const{setPathAs:o}=H(),r=e(k,{get color(){return g()},boxSize:"$12",get as(){return B(t.obj)}}),[a,u]=I(!1),w=b(()=>l()&&(a()||t.obj.selected)),{show:x}=F({id:1}),{rawLink:j}=_(),p=K();return e(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},style:{"flex-grow":1},get children(){return e(f,{w:"$full",class:"image-item",p:"$1",spacing:"$1",rounded:"$lg",transition:"all 0.3s",border:"2px solid transparent",get _hover(){return{border:`2px solid ${g()}`}},onMouseEnter:()=>{u(!0),o(t.obj.name,t.obj.is_dir,!0)},onMouseLeave:()=>{u(!1)},onContextMenu:n=>{v(()=>{y(!1),c(t.index,!0,!0)}),x(n,{props:t.obj})},get children(){return e(C,{w:"$full",pos:"relative",get children(){return[e(i,{get when(){return w()},get children(){return e(M,{pos:"absolute",left:"$1",top:"$1",get checked(){return t.obj.selected},onChange:n=>{c(t.index,n.target.checked)}})}}),e(T,{h:"150px",w:"$full",objectFit:"cover",rounded:"$lg",shadow:"$md",get fallback(){return e(S,{size:"lg"})},fallbackErr:r,get src(){return j(t.obj)},loading:"lazy",get cursor(){return!l()||p()?"pointer":"default"},"on:click":n=>{if(!l()||n.altKey){O.emit("gallery",t.obj.name);return}c(t.index,!t.obj.selected)}})]}})}})}})},ie=t=>{const s=L(),o=b(()=>e(A,{w:"$full",gap:"$1",templateColumns:"repeat(auto-fill, minmax(100px,1fr))",class:"image-folders",get children(){return e(m,{get each(){return d.objs.filter(r=>r.is_dir)},children:(r,a)=>e(P,{obj:r,get index(){return a()}})})}}));return e(f,{spacing:"$2",w:"$full",get children(){return[e(i,{get when(){return h.show_folder_in_image_view==="top"},get children(){return o()}}),e(i,{get when(){return t.images.length>0},get fallback(){return e(G,{m:"$2",get children(){return s("home.no_images")}})},get children(){return e(z,{w:"$full",gap:"$1",flexWrap:"wrap",class:"image-images",get children(){return e(m,{get each(){return d.objs},children:(r,a)=>e(U,{obj:r,get index(){return a()}})})}})}}),e(i,{get when(){return h.show_folder_in_image_view==="bottom"},get children(){return o()}})]}})};export{ie as default};
