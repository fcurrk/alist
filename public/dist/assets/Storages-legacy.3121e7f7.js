System.register(["./index-legacy.ef1ab517.js","./useT-legacy.0e445ef0.js","./useTitle-legacy.d2ddfd04.js","./DeletePopover-legacy.27219d0e.js"],(function(e,r){"use strict";var t,n,a,i,c,d,l,s,g,o,u,h,m,b,$,f,p,v,y,k,w,C,j;return{setters:[e=>{t=e.u,n=e.a,a=e.b4,i=e.d,c=e.c3,d=e.e,l=e.a0,s=e.B,g=e.Y,o=e.c4,u=e.c5,h=e.c6,m=e.v,b=e.c7,$=e.c8,f=e.c9,p=e.aK,v=e.bd,y=e.n,k=e.W},e=>{w=e.u},e=>{C=e.b},e=>{j=e.D}],execute:function(){e("default",(()=>{const e=w();C("manage.sidemenu.storages");const{to:r}=t(),[_,S]=n((()=>a.get("/admin/storage/list"))),[x,D]=i([]),T=async()=>{const e=await S();v(e,(e=>D(e.content)))};T();const[B,H]=c((e=>a.post(`/admin/storage/delete?id=${e}`))),[I,K]=c(((e,r)=>a.post(`/admin/storage/${r?.disabled?"enable":"disable"}?id=${r?.id}`)));return d(k,{spacing:"$2",alignItems:"start",w:"$full",get children(){return[d(l,{spacing:"$2",get children(){return[d(s,{colorScheme:"accent",get loading(){return _()},onClick:T,get children(){return e("global.refresh")}}),d(s,{onClick:()=>{r("/@manage/storages/add")},get children(){return e("global.add")}})]}}),d(g,{w:"$full",overflowX:"auto",get children(){return d(o,{highlightOnHover:!0,dense:!0,get children(){return[d(u,{get children(){return d(h,{get children(){return[d(m,{each:["mount_path","driver","order","status","remark"],children:r=>d(b,{get children(){return e(`storages.common.${r}`)}})}),d(b,{get children(){return e("global.operations")}})]}})}}),d($,{get children(){return d(m,{get each(){return x()},children:t=>d(h,{get children(){return[d(f,{get children(){return t.mount_path}}),d(f,{get children(){return e(`drivers.drivers.${t.driver}`)}}),d(f,{get children(){return t.order}}),d(f,{get children(){return t.status}}),d(f,{get children(){return t.remark}}),d(f,{get children(){return d(l,{spacing:"$2",get children(){return[d(s,{onClick:()=>{r(`/@manage/storages/edit/${t.id}`)},get children(){return e("global.edit")}}),d(s,{get loading(){return I()===t.id},colorScheme:"warning",onClick:async()=>{const e=await K(t.id,t);p(e,(()=>{T()}))},get children(){return e("global."+(t.disabled?"enable":"disable"))}}),d(j,{get name(){return t.mount_path},get loading(){return B()===t.id},onClick:async()=>{const r=await H(t.id);v(r,(()=>{y.success(e("global.delete_success")),T()}))}})]}})}})]}})})}})]}})}})]}})}))}}}));
