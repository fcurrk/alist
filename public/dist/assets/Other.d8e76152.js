import{a as V,m as i,aY as c,ba as u,bJ as W,h as t,ay as d,d9 as _,E as o,C as m,bb as l,n as h,I as X,ae as Z,a8 as ee}from"./index.2d29e094.js";import{b as te}from"./useTitle.ceba1ccb.js";import{G as O}from"./index.9a2875ca.js";import{I as g}from"./SettingItem.0d3a868b.js";import"./index.30a0f9f2.js";import"./index.896329a7.js";import"./item_type.ee87ae79.js";const ue=()=>{const r=V();te("manage.sidemenu.other");const[y,p]=i(""),[k,f]=i(""),[b,$]=i(""),[v,C]=i(""),[T,S]=i(""),[q,L]=i(""),[I,U]=i(""),[a,R]=i([]),[x,B]=c(()=>u.get(`/admin/setting/list?groups=${O.ARIA2},${O.SINGLE}`)),[D,F]=c(()=>u.post("/admin/setting/set_aria2",{uri:y(),secret:k()})),[J,N]=c(()=>u.post("/admin/setting/set_qbit",{url:b(),seedtime:v()})),[P,Y]=c(()=>u.post("/admin/setting/set_transmission",{uri:T(),seedtime:q()}));(async()=>{const e=await B();l(e,n=>{var w,A,G,Q,E,H,M;p(((w=n.find(s=>s.key==="aria2_uri"))==null?void 0:w.value)||""),f(((A=n.find(s=>s.key==="aria2_secret"))==null?void 0:A.value)||""),U(((G=n.find(s=>s.key==="token"))==null?void 0:G.value)||""),$(((Q=n.find(s=>s.key==="qbittorrent_url"))==null?void 0:Q.value)||""),C(((E=n.find(s=>s.key==="qbittorrent_seedtime"))==null?void 0:E.value)||""),S(((H=n.find(s=>s.key==="transmission_uri"))==null?void 0:H.value)||""),L(((M=n.find(s=>s.key==="transmission_seedtime"))==null?void 0:M.value)||""),R(n)})})();const[j,z]=c(()=>u.post("/admin/setting/reset_token")),{copy:K}=W();return t(ee,{get loading(){return x()},get children(){return[t(d,{mb:"$2",get children(){return r("settings_other.aria2")}}),t(_,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return[t(g,o(()=>a().find(e=>e.key==="aria2_uri"),{get value(){return y()},onChange:e=>p(e)})),t(g,o(()=>a().find(e=>e.key==="aria2_secret"),{get value(){return k()},onChange:e=>f(e)}))]}}),t(m,{my:"$2",get loading(){return D()},onClick:async()=>{const e=await F();l(e,n=>{h.success(`${r("settings_other.aria2_version")} ${n}`)})},get children(){return r("settings_other.set_aria2")}}),t(d,{my:"$2",get children(){return r("settings_other.qbittorrent")}}),t(_,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return[t(g,o(()=>a().find(e=>e.key==="qbittorrent_url"),{get value(){return b()},onChange:e=>$(e)})),t(g,o(()=>a().find(e=>e.key==="qbittorrent_seedtime"),{get value(){return v()},onChange:e=>C(e)}))]}}),t(m,{my:"$2",get loading(){return J()},onClick:async()=>{const e=await N();l(e,n=>{h.success(n)})},get children(){return r("settings_other.set_qbit")}}),t(d,{my:"$2",get children(){return r("settings_other.transmission")}}),t(_,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return[t(g,o(()=>a().find(e=>e.key==="transmission_uri"),{get value(){return T()},onChange:e=>S(e)})),t(g,o(()=>a().find(e=>e.key==="transmission_seedtime"),{get value(){return q()},onChange:e=>L(e)}))]}}),t(m,{my:"$2",get loading(){return P()},onClick:async()=>{const e=await Y();l(e,n=>{h.success(n)})},get children(){return r("settings_other.set_transmission")}}),t(d,{my:"$2",get children(){return r("settings.token")}}),t(X,{get value(){return I()},readOnly:!0}),t(Z,{my:"$2",spacing:"$2",get children(){return[t(m,{onClick:()=>{K(I())},get children(){return r("settings_other.copy_token")}}),t(m,{colorScheme:"danger",get loading(){return j()},onClick:async()=>{const e=await z();l(e,n=>{h.success(r("settings_other.reset_token_success")),U(n)})},get children(){return r("settings_other.reset_token")}})]}})]}})};export{ue as default};
