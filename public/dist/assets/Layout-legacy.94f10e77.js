System.register(["./index-legacy.ef1ab517.js","./useTitle-legacy.d2ddfd04.js","./Markdown-legacy.48f8965a.js","./useT-legacy.0e445ef0.js","./api-legacy.4c1dbd4e.js","./useUtil-legacy.e531e1c6.js","./index-legacy.3185524a.js","./index-legacy.ce937105.js","./FolderTree-legacy.cbce8f5d.js"],(function(e,t){"use strict";var n,r,o,a,i,l,s,c,u,d,h,g,p,f,m,y,v,w,b,k,C,x,S,_,O,$,M,j,E,A,z,T,P,F,D,V,L,B,H,I,R,U,q,W,N,K,X,Y,Z,G,J,Q,ee,te,ne,re,oe,ae,ie,le,se,ce,ue,de,he,ge,pe,fe,me,ye,ve,we,be,ke,Ce,xe,Se,_e,Oe,$e,Me,je,Ee,Ae,ze,Te,Pe,Fe,De,Ve,Le,Be,He,Ie,Re,Ue,qe,We,Ne,Ke,Xe,Ye,Ze,Ge,Je,Qe,et,tt,nt,rt,ot,at,it,lt,st,ct,ut,dt,ht,gt,pt,ft,mt,yt,vt,wt,bt,kt,Ct,xt,St,_t,Ot,$t,Mt,jt,Et,At,zt,Tt,Pt,Ft;return{setters:[e=>{n=e.u,r=e.a,o=e._,a=e.g,i=e.b,l=e.o,s=e.p,c=e.O,u=e.S,d=e.h,h=e.c,g=e.n,p=e.s,f=e.l,m=e.d,y=e.e,v=e.M,w=e.f,b=e.i,k=e.j,C=e.k,x=e.I,S=e.T,_=e.F,O=e.m,$=e.B,M=e.q,j=e.r,E=e.t,A=e.v,z=e.w,T=e.x,P=e.y,F=e.z,D=e.L,V=e.A,L=e.C,B=e.D,H=e.E,I=e.G,R=e.H,U=e.J,q=e.K,W=e.N,N=e.P,K=e.Q,X=e.R,Y=e.U,Z=e.V,G=e.W,J=e.X,Q=e.Y,ee=e.Z,te=e.$,ne=e.a0,re=e.a1,oe=e.a2,ae=e.a3,ie=e.a4,le=e.a5,se=e.a6,ce=e.a7,ue=e.a8,de=e.a9,he=e.aa,ge=e.ab,pe=e.ac,fe=e.ad,me=e.ae,ye=e.af,ve=e.ag,we=e.ah,be=e.ai,ke=e.aj,Ce=e.ak,xe=e.al,Se=e.am,_e=e.an,Oe=e.ao,$e=e.ap,Me=e.aq,je=e.ar,Ee=e.as,Ae=e.at,ze=e.au,Te=e.av,Pe=e.aw,Fe=e.ax,De=e.ay,Ve=e.az,Le=e.aA,Be=e.aB,He=e.aC,Ie=e.aD,Re=e.aE,Ue=e.aF,qe=e.aG,We=e.aH,Ne=e.aI,Ke=e.aJ,Xe=e.aK,Ye=e.aL,Ze=e.aM,Ge=e.aN,Je=e.aO,Qe=e.aP,et=e.aQ,tt=e.aR,nt=e.aS,rt=e.aT,ot=e.aU,at=e.aV,it=e.aW,lt=e.aX,st=e.aY,ct=e.aZ},e=>{ut=e.u,dt=e.a},e=>{ht=e.M},e=>{gt=e.u},e=>{pt=e.f,ft=e.a,mt=e.b,yt=e.c,vt=e.d,wt=e.e,bt=e.g,kt=e.h,Ct=e.i,xt=e.j},e=>{St=e.u,_t=e.a,Ot=e.b},e=>{$t=e.A,Mt=e.B,jt=e.C,Et=e.a,At=e.b,zt=e.T,Tt=e.c},e=>{Pt=e.R},e=>{Ft=e.M}],execute:function(){let Dt;e({F:function(e){return j({a:{viewBox:"0 0 256 512"},c:'<path d="M192 448c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l137.4 137.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448z"/>'},e)},a:function(e){return j({a:{viewBox:"0 0 256 512"},c:'<path d="M64 448c-8.188 0-16.38-3.125-22.62-9.375-12.5-12.5-12.5-32.75 0-45.25L178.8 256 41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"/>'},e)},c:function(e){return j({a:{viewBox:"0 0 384 512"},c:'<path d="M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"/>'},e)},d:function(e){return j({a:{viewBox:"0 0 448 512"},c:'<path d="M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.82 100.3 0 224 0s224 35.82 224 80zm-54.8 134.7c19.9-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.93 11.7 34.02 21.2 54.85 28.6C99.66 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zm-338.35 160C99.66 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c19.9-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432v-85.9c14.93 11.7 34.02 21.2 54.85 28.6z"/>'},e)},e:function(e){return j({a:{viewBox:"0 0 448 512"},c:'<path d="M448 336V48c0-26.51-21.5-48-48-48H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1 0-11.72-6.607-21.52-16-27.1v-81.36c9.8-9.64 16-22.24 16-36.44zM143.1 128h192c9.7 0 16.9 7.2 16.9 16s-7.2 16-16 16H143.1c-7.9 0-15.1-7.2-15.1-16s7.2-16 15.1-16zm0 64h192c9.7 0 16.9 7.2 16.9 16s-7.2 16-16 16H143.1c-7.9 0-15.1-7.2-15.1-16s7.2-16 15.1-16zM384 448H96c-17.67 0-32-14.33-32-32s14.33-32 32-32h288v64z"/>'},e)},f:function(e){return j({a:{viewBox:"0 0 512 512"},c:'<path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zM80.72 256h-1.09c-9.078 0-16.4-8.011-15.56-17.34C72.36 146 146.5 72.06 239.3 64.06c9-.78 16.7 6.69 16.7 16.03 0 8.35-6.215 15.28-14.27 15.99C164.7 102.9 103.1 164.3 96.15 241.4c-.75 8.2-7.38 14.6-15.43 14.6zM256 351.1c-53.02 0-96-43-96-95.1s42.98-96 96-96 96 43 96 96-43 95.1-96 95.1zm0-127.1c-17.7 0-32 14.2-32 32s14.3 32 32 32 32-14.25 32-32-14.3-32-32-32z"/>'},e)}});const Vt={};let Lt=1;const Bt=e("b",(()=>{const{pathname:e,searchParams:t}=n(),[,p]=r((e=>pt(e,o()))),f=a();"pagination"===f.type&&t.page&&(Lt=parseInt(t.page));const[,m]=r((e=>{const t={index:e?.index,size:e?.size};return ft(e?.path,o(),t.index,t.size,e?.force,new i.CancelToken((function(e){Dt=e})))})),y=(t,n=!0,r=!1)=>{r&&(t=s(e(),t)),n?Vt[t]=!0:delete Vt[t]};let v=!1;const w=(e,t,n)=>{Dt?.(),v=t??!1,C(""),Vt[e]?k(e,Lt,void 0,void 0,n):b(e)},b=async e=>{c.setState(u.FetchingObj);const t=await p(e);d(t,(t=>{c.setObj(t),c.setProvider(t.provider),t.is_dir?(y(e),k(e,Lt)):(c.setReadme(t.readme),c.setRelated(t.related??[]),c.setRawUrl(t.raw_url),c.setState(u.File))}),C)},k=async(e,t,n,r=!1,o)=>{n||(n=f.size),void 0!==n&&"all"===f.type&&(n=void 0),Lt=t??1,c.setState(r?u.FetchingMore:u.FetchingObjs);const a=await m({path:e,index:t,size:n,force:o});d(a,(e=>{r?h(e.content):(c.setObjs(e.content??[]),c.setTotal(e.total)),c.setReadme(e.readme),c.setWrite(e.write),c.setProvider(e.provider),c.setState(u.Folder)}),C)},C=(e,t)=>{403===t?(c.setState(u.NeedPassword),v&&g.error(e)):c.setErr(e)},x=(t,n,r=!1)=>{k(e(),t,n,r)};return{handlePathChange:w,setPathAs:y,refresh:(t,n)=>{w(e(),t,n)},pageChange:x,page:Lt,loadMore:()=>{x(Lt+1,void 0,!0)},allLoaded:()=>Lt>=Math.ceil(l.total/f.size)}})),Ht=e("u",(()=>{const{rawLinks:e}=St(),{rawLink:t}=_t(),n=gt();return{batchDownloadSelected:()=>{e(!0).forEach((e=>{window.open(e,"_blank")}))},sendToAria2:async()=>{const e=p().filter((e=>!e.is_dir)),{aria2_rpc_url:r,aria2_rpc_secret:o,aria2_dir:a}=f;if(r)try{for(const n of e){const e=await i.post(r,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+o,[t(n)],{out:n.name,"check-certificate":"false"}]});console.log(e)}g.success(n("home.toolbar.send_aria2_success"))}catch(l){console.error(l),g.error(`failed to send to aria2: ${l}`)}else g.warning(n("home.toolbar.aria2_not_set"))}}})),It=e=>{const[t,n]=m(e.defaultValue??""),r=gt(),o=()=>{t()?e.onSubmit?.(t()):g.warning(r("global.empty_input"))};return y(M,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[y(v,{}),y(w,{get children(){return[y(b,{get children(){return r(e.title)}}),y(k,{get children(){return[y(C,{get when(){return"text"===e.type},get fallback(){return y(x,{id:"modal-input",get type(){return e.type},get value(){return t()},onInput:e=>{n(e.currentTarget.value)},onKeyDown:e=>{"Enter"===e.key&&o()}})},get children(){return y(S,{id:"modal-input",get value(){return t()},onInput:e=>{n(e.currentTarget.value)}})}}),y(C,{get when(){return e.tips},get children(){return y(_,{get children(){return e.tips}})}})]}}),y(O,{display:"flex",gap:"$2",get children(){return[y($,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return r("global.cancel")}}),y($,{get loading(){return e.loading},onClick:()=>o(),get children(){return r("global.ok")}})]}})]}})]}})};function Rt(e){return j({a:{viewBox:"0 0 512 512"},c:'<path d="M16 96c0-26.51 21.49-48 48-48s48 21.49 48 48c0 26.5-21.49 48-48 48s-48-21.5-48-48zm464-32c17.7 0 32 14.33 32 32 0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32 0-17.67 14.3-32 32-32h288zm0 160c17.7 0 32 14.3 32 32s-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32h288zm0 160c17.7 0 32 14.3 32 32s-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32h288zM16 416c0-26.5 21.49-48 48-48s48 21.5 48 48-21.49 48-48 48-48-21.5-48-48zm96-160c0 26.5-21.49 48-48 48s-48-21.5-48-48 21.49-48 48-48 48 21.5 48 48z"/>'},e)}const Ut=()=>{const{pathname:e}=n(),t=E((()=>["",...e().split("/").filter(Boolean)])),r=gt(),{setPathAs:o}=Bt();return y(B,{class:"nav",w:"$full",get children(){return y(A,{get each(){return t()},children:(e,n)=>{const a=E((()=>n()===t().length-1)),i=t().slice(0,n()+1).join("/"),l=z(i);let s=()=>e;return""===s()&&(s=()=>H("home_icon")+r("manage.sidemenu.home")),y(T,{class:"nav-item",get children(){return[y(P,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{bgColor:F(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return a()},get as(){return a()?void 0:D},get href(){return V(l)},onMouseEnter:()=>o(i),children:s}),y(C,{get when(){return!a()},get children(){return y(L,{class:"nav-separator"})}})]}})}})}})},qt=I((()=>R((()=>t.import("./Folder-legacy.04496b00.js").then((e=>e.F))),void 0))),Wt=I((()=>R((()=>t.import("./File-legacy.f141a01f.js").then((e=>e.a))),void 0))),Nt=I((()=>R((()=>t.import("./Password-legacy.be696b25.js")),void 0))),Kt=()=>{const e=U("white","$neutral3"),{pathname:t}=n(),{handlePathChange:r}=Bt();return q(W(t,(e=>{ut(),r(e)}))),y(G,{class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return e()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return y(N,{get fallback(){return y(K,{})},get children(){return y(X,{get children(){return[y(Y,{get when(){return l.err},get children(){return y(Z,{get msg(){return l.err},disableColor:!0})}}),y(Y,{get when(){return[u.FetchingObj,u.FetchingObjs].includes(l.state)},get children(){return y(K,{})}}),y(Y,{get when(){return l.state===u.NeedPassword},get children(){return y(Nt,{})}}),y(Y,{get when(){return[u.Folder,u.FetchingMore].includes(l.state)},get children(){return y(qt,{})}}),y(Y,{get when(){return l.state===u.File},get children(){return y(Wt,{})}})]}})}})}})},Xt=()=>{const e=U("white","$neutral3"),{proxyLink:t}=_t(),n=E(W((()=>l.state),(()=>{if(![u.FetchingMore,u.Folder,u.File].includes(l.state))return"";if(l.readme)return l.readme;if([u.FetchingMore,u.Folder].includes(l.state)){const e=l.objs.find((e=>"readme.md"===e.name.toLowerCase()));if(e)return t(e,!0)}return""}))),[r]=J(n,(async e=>/^https?:\/\//g.test(e)?await mt(e):{content:e}));return y(C,{get when(){return n()},get children(){return y(Q,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return e()},shadow:"$lg",get children(){return y(ee,{get loading(){return r.loading},get children(){return y(ht,{get children(){return r()?.content}})}})}})}})},Yt=e=>{const t=H("home_container");return y(X,{get fallback(){return y(Q,{w:"min(99%, 980px)",get children(){return e.children}})},get children(){return y(Y,{when:"hope_container"===t,get children(){return y(te,{get children(){return e.children}})}})}})},Zt=()=>y(Yt,{get children(){return y(G,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[y(Ut,{}),y(Kt,{}),y(Xt,{})]}})}}),Gt=ie("<span>|</span>"),Jt=()=>{const e=gt();return y(G,{class:"footer",w:"$full",py:"$4",get children(){return y(ne,{spacing:"$1",get children(){return[y(re,{href:"https://github.com/Xhofe/alist",external:!0,get children(){return e("home.footer.powered_by")}}),Gt.cloneNode(!0),y($t,{as:D,get href(){return oe.is_guest(ae())?"/@login":"/@manage"},get children(){return e(oe.is_guest(ae())?"login.login":"home.footer.manage")}})]}})}})},Qt=()=>{const e=H("logo").split("\n"),t=U(e[0],e.pop());return y(he,{class:"header",w:"$full",get children(){return y(Yt,{get children(){return y(ne,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[y(ne,{class:"header-left",h:"44px",get children(){return y(le,{get src(){return t()},h:"$full",w:"auto",get fallback(){return y(se,{})}})}}),y(ne,{class:"header-right",spacing:"$2",get children(){return y(C,{get when(){return l.state===u.Folder},get children(){return y(ce,{"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return y(C,{get when(){return"list"===ue()},get fallback(){return y(Rt,{})},get children(){return y(Mt,{})}})},onClick:()=>{de("list"===ue()?"grid":"list")}})}})}})]}})}})}})};function en(e){return j({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 11l3 3 8-8"/><path d="M20 12v6a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h9"/>'},e)}const tn=e("o",{rename:{icon:jt,color:"$accent9"},copy:{icon:function(e){return j({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><rect width="12" height="12" x="8" y="8" rx="2"/><path d="M16 8V6a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2h2"/>'},e)},color:"$success9"},move:{icon:function(e){return j({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM9 15h6"/><path d="M12.5 17.5L15 15l-2.5-2.5"/>'},e)},color:"$warning9"},delete:{icon:ge,color:"$danger9"},copy_link:{icon:function(e){return j({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5 0 005 0l4-4a3.5 3.5 0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5 0 00-5 0l-4 4a3.5 3.5 0 005 5l.5-.5"/>'},e)},color:"$info9"},mkdir:{icon:Et,p:!0},new_file:{icon:At,p:!0},cancel_select:{icon:zt},download:{icon:pe,color:"$primary9"}}),nn=e=>{const t=fe.findIndex((t=>t===e.name));if(-1!==t&&!oe.can(ae(),t))return null;const n=gt();return y(ve,{placement:"top",withArrow:!0,get label(){return n(`home.toolbar.${e.name}`)},get children(){return y(me,ye({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:F()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$7",rounded:"$md",get p(){return tn[e.name]?.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return tn[e.name]?.icon},get color(){return tn[e.name]?.color}},e))}})},rn=e=>{const t=gt();return y(ve,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return t(`home.toolbar.${e.tips}`)},get children(){return y(me,ye({color:"$info9",_hover:{bgColor:"$info9",color:"white"},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},on=()=>{const e=gt(),{copySelectedPreviewPage:t,copySelectedRawLink:n}=Ot(),r="neutral";return y(Ce,{placement:"top",offset:10,get children(){return[y(we,{as:nn,name:"copy_link"}),y(be,{get children(){return[y(ke,{colorScheme:r,onSelect:()=>{t()},get children(){return e("home.toolbar.preview_page")}}),y(ke,{colorScheme:r,onSelect:()=>{n()},get children(){return e("home.toolbar.down_link")}}),y(ke,{colorScheme:r,onSelect:()=>{n(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})},an=ie("<p></p>"),ln=()=>{const e=gt(),t="neutral",{batchDownloadSelected:n,sendToAria2:r}=Ht();return y(Ce,{placement:"top",offset:10,get children(){return[y(we,{as:nn,name:"download"}),y(be,{get children(){return[y(ke,{colorScheme:t,onSelect:n,get children(){return e("home.toolbar.batch_download")}}),y(C,{get when(){return oe.is_admin(ae())||xe("package_download")},get children(){return y(ke,{colorScheme:t,onSelect:()=>{Se.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}})}}),y(ke,{colorScheme:t,onSelect:r,get children(){return e("home.toolbar.send_aria2")}})]}})]}})},sn=I((()=>R((()=>t.import("./PackageDownload-legacy.bad63158.js")),void 0))),cn=()=>{const e=gt(),t=e=>{"package_download"===e&&r()};Se.on("tool",t),_e((()=>{Se.off("tool",t)}));const{isOpen:n,onOpen:r,onClose:o}=Oe(),[a,i]=m("pre_tips");return y(M,{blockScrollOnMount:!1,get opened(){return n()},onClose:o,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[y(v,{}),y(w,{get children(){return[y(b,{get children(){return e("home.toolbar.package_download")}}),y(N,{get fallback(){return y(K,{})},get children(){return y(C,{get when(){return"pre_tips"===a()},get fallback(){return y(sn,{onClose:o})},get children(){return[y(k,{get children(){const t=an.cloneNode(!0);return $e(t,(()=>e("home.toolbar.pre_package_download-tips"))),t}}),y(O,{display:"flex",gap:"$2",get children(){return[y($,{onClick:o,colorScheme:"neutral",get children(){return e("global.cancel")}}),y($,{colorScheme:"info",onClick:()=>{i("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})};function un(e,t){-1===e.indexOf(t)&&e.push(t)}const dn=(e,t,n)=>Math.min(Math.max(n,e),t),hn={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},gn=e=>"number"==typeof e,pn=e=>Array.isArray(e)&&!gn(e[0]),fn=(e,t,n)=>-n*e+n*t+e,mn=()=>{},yn=e=>e,vn=(e,t,n)=>t-e==0?1:(n-e)/(t-e);function wn(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=vn(0,t,r);e.push(fn(n,1,o))}}function bn(e,t=function(e){const t=[0];return wn(t,e-1),t}(e.length),n=yn){const r=e.length,o=r-t.length;return o>0&&wn(t,o),o=>{let a=0;for(;a<r-2&&!(o<t[a+1]);a++);let i=dn(0,1,vn(t[a],t[a+1],o));const l=function(e,t){return pn(e)?e[((e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e})(0,e.length,t)]:e}(n,a);return i=l(i),fn(e[a],e[a+1],i)}}const kn=e=>Array.isArray(e)&&gn(e[0]),Cn=e=>"object"==typeof e&&Boolean(e.createAnimation),xn=e=>"function"==typeof e,Sn=e=>1e3*e,_n=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function On(e,t,n,r){if(e===t&&n===r)return yn;const o=t=>function(e,t,n,r,o){let a,i,l=0;do{i=t+(n-t)/2,a=_n(i,r,o)-e,a>0?n=i:t=i}while(Math.abs(a)>1e-7&&++l<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:_n(o(e),t,r)}const $n={ease:On(.25,.1,.25,1),"ease-in":On(.42,0,1,1),"ease-in-out":On(.42,0,.58,1),"ease-out":On(0,0,.58,1)},Mn=/\((.*?)\)/;function jn(e){if(xn(e))return e;if(kn(e))return On(...e);if($n[e])return $n[e];if(e.startsWith("steps")){const t=Mn.exec(e);if(t){const e=t[1].split(",");return((e,t="end")=>n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e,o="end"===t?Math.floor(r):Math.ceil(r);return dn(0,1,o/e)})(parseFloat(e[0]),e[1].trim())}}return yn}class En{constructor(e,t=[0,1],{easing:n,duration:r=hn.duration,delay:o=hn.delay,endDelay:a=hn.endDelay,repeat:i=hn.repeat,offset:l,direction:s="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=yn,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),n=n||hn.easing,Cn(n)){const e=n.createAnimation(t);n=e.easing,t=e.keyframes||t,r=e.duration||r}this.repeat=i,this.easing=pn(n)?yn:jn(n),this.updateDuration(r);const c=bn(t,l,pn(n)?n.map(jn):yn);this.tick=t=>{var n;let r=0;r=void 0!==this.pauseTime?this.pauseTime:(t-this.startTime)*this.rate,this.t=r,r/=1e3,r=Math.max(r-o,0),"finished"===this.playState&&void 0===this.pauseTime&&(r=this.totalDuration);const i=r/this.duration;let l=Math.floor(i),u=i%1;!u&&i>=1&&(u=1),1===u&&l--;const d=l%2;("reverse"===s||"alternate"===s&&d||"alternate-reverse"===s&&!d)&&(u=1-u);const h=r>=this.totalDuration?1:Math.min(u,1),g=c(this.easing(h));e(g),void 0===this.pauseTime&&("finished"===this.playState||r>=this.totalDuration+a)?(this.playState="finished",null===(n=this.resolve)||void 0===n||n.call(this,g)):"idle"!==this.playState&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const e=performance.now();this.playState="running",void 0!==this.pauseTime?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",void 0!==this.frameRequestId&&cancelAnimationFrame(this.frameRequestId),null===(e=this.reject)||void 0===e||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){void 0!==this.pauseTime||0===this.rate?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class An{setAnimation(e){this.animation=e,null==e||e.finished.then((()=>this.clearAnimation())).catch((()=>{}))}clearAnimation(){this.animation=this.generator=void 0}}const zn=new WeakMap;function Tn(e){return zn.has(e)||zn.set(e,{transforms:[],values:new Map}),zn.get(e)}const Pn=["","X","Y","Z"],Fn={x:"translateX",y:"translateY",z:"translateZ"},Dn={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},Vn={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:Dn,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:yn},skew:Dn},Ln=new Map,Bn=e=>`--motion-${e}`,Hn=["x","y","z"];["translate","scale","rotate","skew"].forEach((e=>{Pn.forEach((t=>{Hn.push(e+t),Ln.set(Bn(e+t),Vn[e])}))}));const In=(e,t)=>Hn.indexOf(e)-Hn.indexOf(t),Rn=new Set(Hn),Un=e=>Rn.has(e),qn=e=>e.sort(In).reduce(Wn,"").trim(),Wn=(e,t)=>`${e} ${t}(var(${Bn(t)}))`,Nn=e=>e.startsWith("--"),Kn=new Set,Xn=(e,t)=>document.createElement("div").animate(e,t),Yn={cssRegisterProperty:()=>"undefined"!=typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Xn({opacity:[1]})}catch(e){return!1}return!0},finished:()=>Boolean(Xn({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{Xn({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}},Zn={},Gn={};for(const e in Yn)Gn[e]=()=>(void 0===Zn[e]&&(Zn[e]=Yn[e]()),Zn[e]);const Jn=(e,t)=>xn(e)?Gn.linearEasing()?`linear(${((e,t)=>{let n="";const r=Math.round(t/.015);for(let o=0;o<r;o++)n+=e(vn(0,r-1,o))+", ";return n.substring(0,n.length-2)})(e,t)})`:hn.easing:kn(e)?Qn(e):e,Qn=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`;function er(e){return Fn[e]&&(e=Fn[e]),Un(e)?Bn(e):e}const tr=(e,t)=>{t=er(t);let n=Nn(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&0!==n){const e=Ln.get(t);e&&(n=e.initialValue)}return n},nr=(e,t,n)=>{t=er(t),Nn(t)?e.style.setProperty(t,n):e.style[t]=n};function rr(e,t,n,r={},o){const a=window.__MOTION_DEV_TOOLS_RECORD,i=!1!==r.record&&a;let l,{duration:s=hn.duration,delay:c=hn.delay,endDelay:u=hn.endDelay,repeat:d=hn.repeat,easing:h=hn.easing,direction:g,offset:p,allowWebkitAcceleration:f=!1}=r;const m=Tn(e),y=Un(t);let v=Gn.waapi();y&&((e,t)=>{Fn[t]&&(t=Fn[t]);const{transforms:n}=Tn(e);un(n,t),e.style.transform=qn(n)})(e,t);const w=er(t),b=function(e,t){return e.has(t)||e.set(t,new An),e.get(t)}(m.values,w),k=Ln.get(w);return function(e,t=!0){if(e&&"finished"!==e.playState)try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch(n){}}(b.animation,!(Cn(h)&&b.generator)&&!1!==r.record),()=>{const m=()=>{var t,n;return null!==(n=null!==(t=tr(e,w))&&void 0!==t?t:null==k?void 0:k.initialValue)&&void 0!==n?n:0};let C=function(e,t){for(let n=0;n<e.length;n++)null===e[n]&&(e[n]=n?e[n-1]:t());return e}((e=>Array.isArray(e)?e:[e])(n),m);const x=function(e,t){var n;let r=(null==t?void 0:t.toDefaultUnit)||yn;const o=e[e.length-1];if("string"==typeof o){const e=(null===(n=o.match(/(-?[\d.]+)([a-z%]*)/))||void 0===n?void 0:n[2])||"";e&&(r=t=>t+e)}return r}(C,k);if(Cn(h)){const e=h.createAnimation(C,"opacity"!==t,m,w,b);h=e.easing,C=e.keyframes||C,s=e.duration||s}if(Nn(w)&&(Gn.cssRegisterProperty()?function(e){if(!Kn.has(e)){Kn.add(e);try{const{syntax:t,initialValue:n}=Ln.has(e)?Ln.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:n})}catch(t){}}}(w):v=!1),y&&!Gn.linearEasing()&&(xn(h)||pn(h)&&h.some(xn))&&(v=!1),v){k&&(C=C.map((e=>gn(e)?k.toDefaultUnit(e):e))),1!==C.length||Gn.partialKeyframes()&&!i||C.unshift(m());const t={delay:Sn(c),duration:Sn(s),endDelay:Sn(u),easing:pn(h)?void 0:Jn(h,s),direction:g,iterations:d+1,fill:"both"};l=e.animate({[w]:C,offset:p,easing:pn(h)?h.map((e=>Jn(e,s))):void 0},t),l.finished||(l.finished=new Promise(((e,t)=>{l.onfinish=e,l.oncancel=t})));const n=C[C.length-1];l.finished.then((()=>{nr(e,w,n),l.cancel()})).catch(mn),f||(l.playbackRate=1.000001)}else if(o&&y)C=C.map((e=>"string"==typeof e?parseFloat(e):e)),1===C.length&&C.unshift(parseFloat(m())),l=new o((t=>{nr(e,w,x?x(t):t)}),C,Object.assign(Object.assign({},r),{duration:s,easing:h}));else{const t=C[C.length-1];nr(e,w,k&&gn(t)?k.toDefaultUnit(t):t)}return i&&a(e,t,C,{duration:s,delay:c,easing:h,repeat:d,offset:p},"motion-one"),b.setAnimation(l),l}}const or=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function ar(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}const ir={any:0,all:1};function lr(e,t,{root:n,margin:r,amount:o="any"}={}){if("undefined"==typeof IntersectionObserver)return()=>{};const a=function(e,t){var n;return"string"==typeof e?t?(null!==(n=t[e])&&void 0!==n||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}(e),i=new WeakMap,l=new IntersectionObserver((e=>{e.forEach((e=>{const n=i.get(e.target);if(e.isIntersecting!==Boolean(n))if(e.isIntersecting){const n=t(e);xn(n)?i.set(e.target,n):l.unobserve(e.target)}else n&&(n(e),i.delete(e.target))}))}),{root:n,rootMargin:r,threshold:"number"==typeof o?o:ir[o]});return a.forEach((e=>l.observe(e))),()=>l.disconnect()}function sr(e,t){return function(e){return"object"==typeof e}(e)?e:e&&t?t[e]:void 0}let cr;function ur(){if(!cr)return;const e=cr.sort(hr).map(gr);e.forEach(pr),e.forEach(pr),cr=void 0}function dr(e){cr?un(cr,e):(cr=[e],requestAnimationFrame(ur))}const hr=(e,t)=>e.getDepth()-t.getDepth(),gr=e=>e.animateUpdates(),pr=e=>e.next(),fr=(e,t)=>new CustomEvent(e,{detail:{target:t}});function mr(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:n}}))}function yr(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:n}}))}const vr=(e,t,n)=>r=>{r.pointerType&&"mouse"!==r.pointerType||(n(),mr(e,t,r))},wr={inView:{isActive:e=>Boolean(e.inView),subscribe:(e,{enable:t,disable:n},{inViewOptions:r={}})=>{const{once:o}=r,a=ar(r,["once"]);return lr(e,(r=>{if(t(),yr(e,"viewenter",r),!o)return t=>{n(),yr(e,"viewleave",t)}}),a)}},hover:{isActive:e=>Boolean(e.hover),subscribe:(e,{enable:t,disable:n})=>{const r=vr(e,"hoverstart",t),o=vr(e,"hoverend",n);return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",o),()=>{e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",o)}}},press:{isActive:e=>Boolean(e.press),subscribe:(e,{enable:t,disable:n})=>{const r=t=>{n(),mr(e,"pressend",t),window.removeEventListener("pointerup",r)},o=n=>{t(),mr(e,"pressstart",n),window.addEventListener("pointerup",r)};return e.addEventListener("pointerdown",o),()=>{e.removeEventListener("pointerdown",o),window.removeEventListener("pointerup",r)}}}},br=["initial","animate",...Object.keys(wr),"exit"],kr=new WeakMap;function Cr(e={},t){let n,r=t?t.getDepth()+1:0;const o={initial:!0,animate:!0},a={},i={};for(const g of br)i[g]="string"==typeof e[g]?e[g]:null==t?void 0:t.getContext()[g];const l=!1===e.initial?"animate":"initial";let s=ar(sr(e[l]||i[l],e.variants)||{},["transition"]);const c=Object.assign({},s),u=(e,t)=>()=>{o[e]=t,dr(h)},d=()=>{for(const t in wr){const r=wr[t].isActive(e),o=a[t];r&&!o?a[t]=wr[t].subscribe(n,{enable:u(t,!0),disable:u(t,!1)},e):!r&&o&&(o(),delete a[t])}},h={update:t=>{n&&(e=t,d(),dr(h))},setActive:(e,t)=>{n&&(o[e]=t,dr(h))},animateUpdates:function*(){var t,r;const a=s;s={};const i={};for(const n of br){if(!o[n])continue;const a=sr(e[n]);if(a)for(const n in a)"transition"!==n&&(s[n]=a[n],i[n]=or(null!==(r=null!==(t=a.transition)&&void 0!==t?t:e.transition)&&void 0!==r?r:{},n))}const l=new Set([...Object.keys(s),...Object.keys(a)]),u=[];l.forEach((e=>{var t,r,o;void 0===s[e]&&(s[e]=c[e]),r=a[e],o=s[e],typeof r==typeof o&&(Array.isArray(r)&&Array.isArray(o)?function(e,t){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(r,o):r===o)||(null!==(t=c[e])&&void 0!==t||(c[e]=tr(n,e)),u.push(rr(n,e,s[e],i[e],En)))})),yield;const d=u.map((e=>e())).filter(Boolean);if(!d.length)return;const h=s;n.dispatchEvent(fr("motionstart",h)),Promise.all(d.map((e=>e.finished))).then((()=>{n.dispatchEvent(fr("motioncomplete",h))})).catch(mn)},getDepth:()=>r,getTarget:()=>s,getOptions:()=>e,getContext:()=>i,mount:e=>(n=e,kr.set(n,h),d(),()=>{kr.delete(n),function(e){cr&&function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(cr,e)}(h);for(const e in a)a[e]()}),isMounted:()=>Boolean(n)};return h}const xr={initial:()=>!0,addCleanup:_e,addMount:je},Sr=Me(),_r=Me(xr),Or=/([^:; ]*):\s*([^;]*)/g;function $r(e){const t={};let n;for(;n=Or.exec(e);)t[n[1]]=n[2];return t}const Mr=e=>{const[t,,n]=ze(e,["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],["tag","ref","style","onMotionStart","onMotionComplete","onHoverStart","onHoverEnd","onPressStart","onPressEnd","onViewEnter","onViewLeave"]),r=function(e,t,n,r){const{addCleanup:o,addMount:a,initial:i}=n,l=Cr(i()?t():{...t(),initial:!1},r);return a(Ee.bind(void 0,Ae(),(()=>{o(l.mount(e())),q((()=>l.update(t())))}))),l}((()=>a),(()=>({...t})),Te(_r),Te(Sr)),o=function(e){const t={},n=[];for(let r in e){const o=e[r];Un(r)&&(Fn[r]&&(r=Fn[r]),n.push(r),r=Bn(r));let a=Array.isArray(o)?o[0]:o;const i=Ln.get(r);i&&(a=gn(o)?i.toDefaultUnit(o):o),t[r]=a}return n.length&&(t.transform=qn(n)),t}(r.getTarget());let a;return y(Sr.Provider,{value:r,get children(){return y(Pe,ye({ref:t=>{a=t,e.ref?.(t)},get component(){return Fe((()=>e.tag||"div"))},get style(){return De((()=>!!e.style),!0)()?(t=e.style,n=o,"object"==typeof t&&"object"==typeof n?{...t,...n}:"string"==typeof t&&"string"==typeof n?`${t};${n}`:{..."object"==typeof t?t:$r(t),..."object"==typeof n?n:$r(n)}):o;var t,n},get"on:motionstart"(){return e.onMotionStart},get"on:motioncomplete"(){return e.onMotionComplete},get"on:hoverstart"(){return e.onHoverStart},get"on:hoverend"(){return e.onHoverEnd},get"on:pressstart"(){return e.onPressStart},get"on:pressend"(){return e.onPressEnd},get"on:viewenter"(){return e.onViewEnter},get"on:viewleave"(){return e.onViewLeave}},n))}})},jr=e("M",new Proxy(Mr,{get:(e,t)=>e=>(delete e.tag,y(Mr,ye(e,{tag:t})))})),Er=e=>{let{initial:t=!0}=e;je((()=>t=!0));let n=!1,r=[],o=[],a=[];return _e((()=>{a.concat(o).forEach((e=>e())),o=a=r=[]})),y(_r.Provider,{value:{addCleanup:e=>o.push(e),addMount:e=>r.push(e),initial:()=>t},get children(){return y(Sr.Provider,{value:void 0,get children(){return Fe((()=>{const t=Ve((()=>e.children)),i=E((()=>(e=>(e=Array.isArray(e)?e[0]:e)instanceof Element?e:void 0)(t()))),[l,s]=m(),[c,u]=m();return Le(W(i,(t=>{a.push(...o),o=[],Be((()=>{e.exitBeforeEnter?h((()=>!n&&d(t))):(h(),d(t))}))}))),[l,c];function d(e){s(e),r.forEach((e=>e())),r=[]}function h(e){const t=()=>{u(),a.forEach((e=>e())),a=[],e?.()},r=u(l()??c());if(!r)return t();const o=kr.get(r);if(!o||!o.getOptions().exit)return t();o.setActive("exit",n=!0),((e,t)=>{const n={once:!0};e.addEventListener("motioncomplete",t,n),_e(e.removeEventListener.bind(e,"motioncomplete",t,n))})(r,(()=>{n=!1,t()}))}}))}})}})},Ar=()=>{const e=E((()=>[u.Folder,u.FetchingMore].includes(l.state)&&He()&&Ie()));return y(Er,{exitBeforeEnter:!0,get children(){return y(C,{get when(){return e()},get children(){return y(Q,{class:"center-toolbar",pos:"fixed",bottom:"$4",right:"50%",w:"max-content",color:"$neutral11",get as(){return jr.div},initial:{opacity:0,scale:.9,x:"50% ",y:10},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},get children(){return y(ne,{p:"$2",get bgColor(){return U("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(8px)"},get children(){return[y(A,{each:["rename","move","copy","delete"],children:e=>y(nn,{name:e,onClick:()=>{Se.emit("tool",e)}})}),y(on,{}),y(ln,{}),y(nn,{name:"cancel_select",onClick:()=>{Re(!1)}})]}})}})}})}})},zr=()=>{const{isOpen:e,onToggle:t}=Oe({defaultIsOpen:"true"===localStorage.getItem("more-open"),onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),n=E((()=>e()?"$4":"$5")),r=E((()=>l.state===u.Folder)),{refresh:o}=Bt();return y(Q,{class:"left-toolbar-box",pos:"fixed",get right(){return n()},get bottom(){return n()},get children(){return y(C,{get when(){return e()},get fallback(){return y(rn,{class:"toolbar-toggle",as:Tt,onClick:()=>{t()}})},get children(){return y(G,{class:"left-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return jr.div},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{duration:.2},get children(){return[y(G,{spacing:"$1",class:"left-toolbar-in",get children(){return[y(C,{get when(){return De((()=>!!r()),!0)()&&(Ue("write")||l.write)},get children(){return[y(rn,{as:Pt,tips:"refresh",onClick:()=>{o(void 0,!0)}}),y(rn,{get as(){return tn.new_file.icon},tips:"new_file",onClick:()=>{Se.emit("tool","new_file")}}),y(rn,{get as(){return tn.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{Se.emit("tool","mkdir")}}),y(rn,{as:qe,tips:"upload",onClick:()=>{Se.emit("tool","upload")}})]}}),y(C,{get when(){return De((()=>!!r()),!0)()&&Ue("add_aria2")},get children(){return y(rn,{as:We,pl:"0",tips:"add_aria2",onClick:()=>{Se.emit("tool","add_aria2")}})}}),y(rn,{tips:"toggle_checkbox",as:en,onClick:Ne}),y(rn,{as:Ke,tips:"local_settings",onClick:()=>{Se.emit("tool","local_settings")}})]}}),y(rn,{tips:"more",as:Tt,onClick:t})]}})}})}})},Tr=()=>{const{isOpen:e,onOpen:t,onClose:o}=Oe(),[a,i]=r(yt),{pathname:l}=n(),{refresh:s}=Bt(),c=e=>{"copy"===e&&t()};return Se.on("tool",c),_e((()=>{Se.off("tool",c)})),y(Ft,{get opened(){return e()},onClose:o,get loading(){return a()},onSubmit:async e=>{const t=await i(l(),e,p().map((e=>e.name)));Xe(t,(()=>{s(),o()}))}})},Pr=()=>{const{isOpen:e,onOpen:t,onClose:o}=Oe(),[a,i]=r(vt),{pathname:l}=n(),{refresh:s}=Bt(),c=e=>{"move"===e&&t()};return Se.on("tool",c),_e((()=>{Se.off("tool",c)})),y(Ft,{get opened(){return e()},onClose:o,get loading(){return a()},onSubmit:async e=>{const t=await i(l(),e,p().map((e=>e.name)));Xe(t,(()=>{s(),o()}))}})},Fr=ie("<p></p>"),Dr=()=>{const e=gt(),{isOpen:t,onOpen:o,onClose:a}=Oe(),[i,l]=r(wt),{refresh:s}=Bt(),{pathname:c}=n(),u=e=>{"delete"===e&&o()};return Se.on("tool",u),_e((()=>{Se.off("tool",u)})),y(M,{blockScrollOnMount:!1,get opened(){return t()},onClose:a,size:{"@initial":"xs","@md":"md"},get children(){return[y(v,{}),y(w,{get children(){return[y(b,{get children(){return e("home.toolbar.delete")}}),y(k,{get children(){const t=Fr.cloneNode(!0);return $e(t,(()=>e("home.toolbar.delete-tips"))),t}}),y(O,{display:"flex",gap:"$2",get children(){return[y($,{onClick:a,colorScheme:"neutral",get children(){return e("global.cancel")}}),y($,{colorScheme:"danger",get loading(){return i()},onClick:async()=>{const e=await l(c(),p().map((e=>e.name)));Xe(e,(()=>{s(),a()}))},get children(){return e("global.confirm")}})]}})]}})]}})},Vr=()=>{const{isOpen:e,onOpen:t,onClose:o}=Oe(),a=gt(),[i,l]=r(bt),{pathname:c}=n(),{refresh:u}=Bt(),d=e=>{if("rename"===e){if(!Ye())return void g.warning(a("home.toolbar.only_one-tips"));t()}};return Se.on("tool",d),_e((()=>{Se.off("tool",d)})),y(C,{get when(){return e()},get children(){return y(It,{title:"home.toolbar.input_new_name",get opened(){return e()},onClose:o,get defaultValue(){return p()[0]?.name??""},get loading(){return i()},onSubmit:async e=>{const t=await l(s(c(),p()[0].name),e);Xe(t,(()=>{u(),o()}))}})}})},Lr=()=>{const{isOpen:e,onOpen:t,onClose:o}=Oe(),[a,i]=r(kt),{refresh:l}=Bt(),{pathname:c}=n(),u=e=>{"new_file"===e&&t()};return Se.on("tool",u),_e((()=>{Se.off("tool",u)})),y(It,{title:"home.toolbar.input_filename",get opened(){return e()},onClose:o,get loading(){return a()},onSubmit:async e=>{const t=await i(s(c(),e));Xe(t,(()=>{l(),o()}))}})},Br=()=>{const{isOpen:e,onOpen:t,onClose:o}=Oe(),[a,i]=r(Ct),{pathname:l}=n(),{refresh:c}=Bt(),u=e=>{"mkdir"===e&&t()};return Se.on("tool",u),_e((()=>{Se.off("tool",u)})),y(It,{title:"home.toolbar.input_dir_name",get opened(){return e()},onClose:o,get loading(){return a()},onSubmit:async e=>{const t=await i(s(l(),e));Xe(t,(()=>{c(),o()}))}})},Hr=()=>{const e=gt(),{isOpen:t,onOpen:o,onClose:a}=Oe(),[i,l]=r(xt),{pathname:s}=n(),c=e=>{"add_aria2"===e&&o()};return Se.on("tool",c),_e((()=>{Se.off("tool",c)})),y(It,{title:"home.toolbar.add_aria2",type:"text",get opened(){return t()},onClose:a,get loading(){return i()},get tips(){return e("home.toolbar.add_aria2-tips")},onSubmit:async e=>{const t=await l(s(),e.split("\n"));Xe(t,(()=>{a()}))}})},Ir=e=>{const t=gt(),n=t=>{t===e.name&&o()};Se.on("tool",n),_e((()=>{Se.off("tool",n)}));const{isOpen:r,onOpen:o,onClose:a}=Oe();return y(M,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return r()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[y(v,{}),y(w,{get children(){return[y(Ze,{}),y(b,{get children(){return t(e.title)}}),y(k,{get children(){return y(C,{get when(){return r()},get children(){return y(N,{get fallback(){return y(K,{})},get children(){return e.children}})}})}})]}})]}})},Rr=e=>{const t=gt();return y(st,{get children(){return[y(it,{get children(){return t(`home.local_settings.${e.name}`)}}),y(x,{get value(){return f[e.name]},onInput:t=>{lt(e.name,t.currentTarget.value)}})]}})},Ur=()=>{const{isOpen:e,onOpen:t,onClose:n}=Oe(),r=gt(),o=e=>{"local_settings"===e&&t()};return Se.on("tool",o),_e((()=>{Se.off("tool",o)})),y(at,{get opened(){return e()},placement:"right",onClose:n,get children(){return[y(Ge,{}),y(Je,{get children(){return[y(Qe,{}),y(et,{color:"$info9",get children(){return r("home.toolbar.local_settings")}}),y(tt,{get children(){return[y(G,{spacing:"$2",get children(){return y(A,{get each(){return Object.keys(nt)},children:e=>y(Rr,{name:e})})}}),y(he,{mt:"$4",get children(){return y(ne,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[y(rt,{}),y(ot,{})]}})}})]}})]}})]}})},qr=I((()=>R((()=>t.import("./Upload-legacy.2d121441.js")),void 0))),Wr=()=>[y(Tr,{}),y(Pr,{}),y(Vr,{}),y(Dr,{}),y(Lr,{}),y(Br,{}),y(Hr,{}),y(cn,{}),y(Ir,{name:"upload",title:"home.toolbar.upload",get children(){return y(qr,{})}}),y(Ur,{})],Nr=()=>y(ct,{get children(){return[y(zr,{}),y(Ar,{}),y(Wr,{})]}}),Kr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{dt(H("site_title"));const e=H("announcement");return e&&g.render((()=>y(ht,{children:e}))),[y(Qt,{}),y(Nr,{}),y(Zt,{}),y(Jt,{})]}},Symbol.toStringTag,{value:"Module"}));e("L",Kr)}}}));
