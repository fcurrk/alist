import{cB as $,b as k,e as t,ad as u,K as y,aK as h,cT as m,r as f,aM as w,S as j,b$ as x,ax as A,am as S,aw as C,ae as i,c3 as v,cm as p,ac as O,l as P,a as z,k as b,w as I,cU as M,cV as B,cW as D,D as d,E,a0 as L,a3 as T}from"./index.afad18c6.js";import{b as H}from"./Folder.a2ae99a4.js";import{u as K}from"./index.5545988b.js";import{q as W}from"./index.54cc0911.js";import{g as _,O as F}from"./icon.477c480e.js";import"./Layout.37ac22b5.js";import"./index.389e6f5c.js";import"./FolderTree.43d2ffa2.js";import"./video_box.4c2dd3c5.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./Paginator.c96153f1.js";import"./index.e49913d7.js";const n=[{name:"name",textAlign:"left",w:{"@initial":"76%","@md":"50%"}},{name:"size",textAlign:"right",w:{"@initial":"24%","@md":"17%"}},{name:"modified",textAlign:"right",w:{"@initial":0,"@md":"33%"}}],R=e=>{const{isHide:o}=$();if(o(e.obj))return null;const{setPathAs:g}=K(),{show:l}=H({id:1}),{pushHref:c,to:s}=k(),a=()=>P.filename_scrollable==="true";return t(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){return t(u,{class:"list-item",w:"$full",p:"$2",rounded:"$lg",transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:y()}},as:W,get href(){return e.obj.name},"on:click":r=>{if(!!h()){if(r.preventDefault(),r.altKey){s(c(e.obj.name));return}m(e.index,!e.obj.selected)}},onMouseEnter:()=>{g(e.obj.name,e.obj.is_dir,!0)},onContextMenu:r=>{f(()=>{w(!1),m(e.index,!0,!0)}),l(r,{props:e.obj})},get children(){return[t(u,{class:"name-box",spacing:"$1",get w(){return n[0].w},get children(){return[t(j,{get when(){return h()},get children(){return t(x,{"on:click":r=>{r.stopPropagation()},get checked(){return e.obj.selected},onChange:r=>{m(e.index,r.target.checked)}})}}),t(A,{class:"icon",boxSize:"$6",get color(){return S()},get as(){return _(e.obj)},mr:"$1","on:click":r=>{e.obj.type===F.IMAGE&&(r.stopPropagation(),r.preventDefault(),C.emit("gallery",e.obj.name))}}),t(i,{class:"name",get css(){return{whiteSpace:"nowrap","overflow-x":a()?"auto":"hidden",textOverflow:a()?"unset":"ellipsis","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}}},get title(){return e.obj.name},get children(){return e.obj.name}})]}}),t(i,{class:"size",get w(){return n[1].w},get textAlign(){return n[1].textAlign},get children(){return v(e.obj.size)}}),t(i,{class:"modified",display:{"@initial":"none","@md":"inline"},get w(){return n[2].w},get textAlign(){return n[2].textAlign},get children(){return p(e.obj.modified)}})]}})}})},ne=()=>{const e=z(),[o,g]=b(),[l,c]=b(!1);I(()=>{o()&&M(o(),l())});const s=a=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:a.textAlign,cursor:"pointer",onClick:()=>{a.name===o()?c(!l()):f(()=>{g(a.name),c(!1)})}});return t(T,{class:"list",w:"$full",spacing:"$1",get children(){return[t(u,{class:"title",w:"$full",p:"$2",get children(){return[t(u,{get w(){return n[0].w},spacing:"$1",get children(){return[t(j,{get when(){return h()},get children(){return t(x,{get checked(){return B()},get indeterminate(){return D()},onChange:a=>{w(a.target.checked)}})}}),t(i,d(()=>s(n[0]),{get children(){return e(`home.obj.${n[0].name}`)}}))]}}),t(i,d({get w(){return n[1].w}},()=>s(n[1]),{get children(){return e(`home.obj.${n[1].name}`)}})),t(i,d({get w(){return n[2].w}},()=>s(n[2]),{display:{"@initial":"none","@md":"inline"},get children(){return e(`home.obj.${n[2].name}`)}}))]}}),t(E,{get each(){return L.objs},children:(a,r)=>t(R,{obj:a,get index(){return r()}})})]}})};export{ne as default};
